<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Java集合与泛型</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Li,Gongfu">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="晓新's Blog ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">晓新's Blog </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="/category/fen-bu-shi.html">
						<i class="icon-folder-open icon-large"></i>分布式
					</a>
                  </li>
                  <li class="active">
                    <a href="/category/java.html">
						<i class="icon-folder-open icon-large"></i>JAVA
					</a>
                  </li>
                  <li >
                    <a href="/category/machine-learning.html">
						<i class="icon-folder-open icon-large"></i>Machine Learning
					</a>
                  </li>
                  <li >
                    <a href="/category/perl.html">
						<i class="icon-folder-open icon-large"></i>Perl
					</a>
                  </li>
                  <li >
                    <a href="/category/python.html">
						<i class="icon-folder-open icon-large"></i>Python
					</a>
                  </li>
                  <li >
                    <a href="/category/scala.html">
						<i class="icon-folder-open icon-large"></i>Scala
					</a>
                  </li>
                  <li >
                    <a href="/category/shu-ju-ku.html">
						<i class="icon-folder-open icon-large"></i>数据库
					</a>
                  </li>
                  <li >
                    <a href="/category/technology.html">
						<i class="icon-folder-open icon-large"></i>Technology
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to Java集合与泛型">
                                        Java集合与泛型
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2014-06-11T22:20:00">
        <i class="icon-calendar"></i>三 11 六月 2014
</abbr>
<span class="label">By</span>
<a href="/author/ligongfu.html"><i class="icon-user"></i>Li,Gongfu</a>
<span class="label">Category</span>
<a href="/category/java.html"><i class="icon-folder-open"></i>JAVA</a>.


<span class="label">Tags</span>
	<a href="/tag/java.html"><i class="icon-tag"></i>Java</a>
</footer><!-- /.post-info -->                </div>
                <h1>泛型</h1>
<p>只要你再java程序或文件中看到&lt;&gt;这一组符号，就代表泛型正在起作用。泛型的主要目的是让你写出有类型安全性的集合，也就是，让编译器能够帮忙防止你把Dog放到一群Cat中。</p>
<p>使用泛型的两种方法：</p>
<ul>
<li>使用定义在类声明的类型参数：</li>
</ul>
<div class="highlight"><pre>    <span class="k">public</span> <span class="nf">class</span> <span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">E</span><span class="o">&gt;</span> <span class="nx">extends</span> <span class="nx">AbstractList</span><span class="o">&lt;</span><span class="nx">E</span><span class="o">&gt;</span><span class="nx">...</span><span class="p">{</span>
    <span class="k">public</span> <span class="nf">boolean</span> <span class="nb">add</span> <span class="p">(</span><span class="nx">E</span> <span class="nx">o</span><span class="p">)</span>
    <span class="nx">...</span>
    <span class="p">}</span>
</pre></div>


<ul>
<li>使用未定义在类声明的参数
    <code>public &lt;T extends Animal&gt; void takeThing (ArrayList&lt;T&gt; list)</code></li>
</ul>
<h2>Collections.sort()</h2>
<p>Collections.sort()是集合的常用方法，它只接受Comparable对象的list。因此，如果你自定义了一个类，然后生成了很多类对象，并存入集合中，如果你期望用Collections.sort()来对它们进行排序。你需要对你的自定义类做额外的工作。</p>
<p>你有两种方法：</p>
<ul>
<li>第一种，实现Comparable 类，并覆盖它的int compareTo(T o)方法
java.lang.Comparable接口：</li>
</ul>
<div class="highlight"><pre><span class="k">public</span> <span class="nf">interface</span> <span class="nx">Comparable</span><span class="o">&lt;</span><span class="nb">T</span><span class="o">&gt;</span><span class="p">{</span>
    <span class="nx">int</span> <span class="nx">compareTo</span><span class="p">(</span><span class="nb">T</span> <span class="nx">o</span><span class="p">);</span>
    <span class="p">}</span>
</pre></div>


<div class="highlight"><pre><span class="nb">class</span> <span class="nx">Song</span> <span class="nx">implements</span> <span class="nx">Comparable</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span><span class="p">{</span>
<span class="kt">String</span> <span class="nb">title</span><span class="p">;</span>
<span class="kt">String</span> <span class="nx">artist</span><span class="p">;</span>

<span class="k">public</span> <span class="nf">int</span> <span class="nx">compareTo</span><span class="p">(</span><span class="nx">Song</span> <span class="nb">s</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">title.compareTo</span><span class="p">(</span><span class="nx">s.getTitle</span><span class="p">());</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">getTitle</span><span class="p">(){</span>
<span class="k">return</span> <span class="nb">title</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">getAtirst</span><span class="p">(){</span>
<span class="k">return</span> <span class="nx">artist</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>


<ul>
<li>
<p>第二种，自制Comparator</p>
<p>使用compareTo()方法时，list中的元素只能有一种将自己与同类型的另一元素相比较的方法。但Comparator是独立于所比较元素类型之外的--它是独立的类。因此，你可以有各种不同的比较方法。例如，除了按照title排序，你也可以按照artist排序。</p>
<p>因此，取用Comparator版的sort()方法会用Comparator而不是内置的 compareTo()方法。有如下规则：</p>
</li>
</ul>
<blockquote>
<p>调用单一参数的sort（List o）方法代表由list元素上的compareTo()方法来决定顺序。因此元素必须实现Comparable这个接口。
调用sort(List o,Comparator c)方法代表不会调用list元素的compareTo()方法，而会使用Comparator的compare()方法，这也意味着list元素不用实现Comparable.</p>
</blockquote>
<div class="highlight"><pre><span class="nb">class</span> <span class="nx">ArtistCompare</span> <span class="nx">implements</span> <span class="nx">Comparator</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span><span class="p">{</span>
<span class="k">public</span> <span class="nf">int</span> <span class="nb">compare</span><span class="p">(</span><span class="nx">Song</span> <span class="nx">one</span><span class="p">,</span><span class="nx">Song</span> <span class="nx">two</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">one.getAtist</span><span class="p">()</span><span class="bp">.</span><span class="nx">compareTo</span><span class="p">(</span><span class="nx">two.getArtist</span><span class="p">());</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="nx">ArtistCompare</span> <span class="n">artCompare</span><span class="o">=</span><span class="nb">new</span> <span class="nx">ArtistCompare</span><span class="p">();</span>
<span class="nx">Collections.sort</span><span class="p">(</span><span class="nx">songList</span><span class="p">,</span><span class="nx">artCompare</span><span class="p">);</span>
</pre></div>


<h2>集合的多态</h2>
<h3>数组的多态</h3>
<p>如果方法的参数是Animal的数组，它也能够取用Animal次类型的数组。</p>
<div class="highlight"><pre><span class="n">Animal</span> <span class="p">[]</span> <span class="n">animals</span><span class="o">=</span><span class="p">{</span><span class="n">new</span> <span class="n">Dog</span><span class="p">(),</span><span class="n">new</span> <span class="n">Cat</span><span class="p">(),</span><span class="n">new</span> <span class="n">Dog</span><span class="p">()};</span>
<span class="n">Dog</span> <span class="p">[]</span> <span class="n">dogs</span><span class="o">=</span><span class="p">{</span><span class="n">new</span> <span class="n">Dog</span><span class="p">(),</span><span class="n">new</span> <span class="n">Dog</span><span class="p">(),</span><span class="n">new</span> <span class="n">Dog</span><span class="p">()};</span>
<span class="n">takeAnimals</span><span class="p">(</span><span class="n">animals</span><span class="p">);</span> 
<span class="c1">//takeAnimals()能够存取Animal[]或Dog[]参数，因为Dog也是一个Animal，多态在此处起作用</span>
<span class="n">takeAnimals</span><span class="p">(</span><span class="n">dogs</span><span class="p">);</span>

<span class="n">public</span> <span class="kt">void</span> <span class="nf">takeAnimals</span><span class="p">(</span><span class="n">Animal</span> <span class="p">[]</span> <span class="n">animals</span><span class="p">){</span>
<span class="k">for</span><span class="p">(</span><span class="n">Animal</span> <span class="n">a</span> <span class="o">:</span> <span class="n">animals</span><span class="p">){</span>
<span class="n">a</span><span class="p">.</span><span class="n">eat</span><span class="p">();}</span>
<span class="p">}</span>

<span class="n">abstract</span> <span class="n">class</span> <span class="n">Animal</span><span class="p">{</span> 
<span class="kt">void</span> <span class="n">eat</span><span class="p">(){}</span>
<span class="p">}</span>
<span class="n">class</span> <span class="n">Dog</span> <span class="n">extends</span> <span class="n">Animal</span><span class="p">{</span> 
<span class="kt">void</span> <span class="n">bark</span><span class="p">(){}</span>
<span class="p">}</span>
<span class="n">class</span> <span class="n">Cat</span> <span class="n">extends</span> <span class="n">Animal</span><span class="p">{</span> 
<span class="kt">void</span> <span class="n">meow</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>


<h3>ArrayList的多态</h3>
<div class="highlight"><pre><span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="n">animals</span><span class="o">=</span> <span class="nb">new</span> <span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span><span class="p">();</span>
<span class="nx">animals.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Dog</span><span class="p">());</span>
<span class="nx">animals.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Dog</span><span class="p">());</span>
<span class="nx">animals.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Dog</span><span class="p">());</span>
<span class="nx">takeAnimals</span><span class="p">(</span><span class="nx">animals</span><span class="p">);</span>

<span class="k">public</span> <span class="nf">void</span> <span class="nx">takeAnimals</span><span class="p">(</span><span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="nx">animals</span><span class="p">){</span>
<span class="nb">for</span><span class="p">(</span><span class="nx">Animal</span> <span class="nx">a</span> <span class="p">:</span> <span class="nx">animals</span><span class="p">){</span>
<span class="nx">a.eat</span><span class="p">();}</span>
<span class="p">}</span>
</pre></div>


<p>因为多态的关系，编译器会让Dog数组通过取用Animal数组参数的方法，这没有问题，问题是ArrayList&lt; Animal &gt;参数能接受ArrayList&lt; Dog &gt;吗，回答是，不行。如果我们在上面的程序里加上这一段，将出现编译错误。</p>
<div class="highlight"><pre><span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Dog</span><span class="o">&gt;</span> <span class="n">dogs</span> <span class="o">=</span> <span class="nb">new</span> <span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Dog</span><span class="o">&gt;</span><span class="p">();</span>
<span class="nx">dogs.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Dog</span><span class="p">());</span>
<span class="nx">dogs.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Dog</span><span class="p">());</span>
<span class="nx">takeAnimals</span><span class="p">(</span><span class="nx">dogs</span><span class="p">);</span>
</pre></div>


<p>可能很多同学会疑惑，毕竟多态的意义就在于Animal能做的事情，Dog也能做，但你想过吗，如果我们的takeAnimals()是这样的：</p>
<div class="highlight"><pre><span class="k">public</span> <span class="nf">void</span> <span class="nx">takeAnimals</span><span class="p">(</span><span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nx">Animal</span><span class="o">&gt;</span> <span class="nx">animals</span><span class="p">){</span>
<span class="nx">animals.add</span><span class="p">(</span><span class="nb">new</span> <span class="nx">Cat</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>


<p>这就会有问题了，理论上把Cat加到ArrayList&lt; Animal &gt;是合法的，这也是使用Animal的本意--让各种Animal都可以加入到此ArrayList中。但是如果你传入的是一个Dog的ArrayList给该方法，那么将会是Cat强行加入了一个Dog ArrayList中，编译器当然不会让这种事情发生。</p>
<p>所以，如果把方法声明成ArrayList&lt; Animal &gt;,它只能接受ArrayList&lt; Animal &gt;的参数，ArrayList&lt; Dog&gt;和ArrayList&lt; Cat&gt;都不行。</p>
<p>很多同学肯定又要问了，那为什么数组可以过关，而ArrayList却不行，毕竟数组也会遇到这样的问题啊。</p>
<p>其实这跟jvm有关，数组类型是在运行期间检查的，但集合的类型检查发生在编译期间。</p>
<p>下面这段程序在编译时不会出错，但运行时出错。</p>
<div class="highlight"><pre><span class="n">Dog</span> <span class="p">[]</span> <span class="n">dogs</span><span class="o">=</span><span class="p">{</span><span class="n">new</span> <span class="n">Dog</span><span class="p">(),</span><span class="n">new</span> <span class="n">Dog</span><span class="p">(),</span><span class="n">new</span> <span class="n">Dog</span><span class="p">()};</span>
<span class="n">takeAnimals</span><span class="p">(</span><span class="n">dogs</span><span class="p">);</span>

<span class="n">public</span> <span class="kt">void</span> <span class="nf">takeAnimals</span><span class="p">(</span><span class="n">Animal</span> <span class="p">[]</span> <span class="n">animals</span><span class="p">){</span>
<span class="n">animals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">new</span> <span class="n">Cat</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>


<p>那有没有一种方法，让我们能够使用多态化的集合参数,就像数组那样，这样我们就可以传入Cat,Dog的集合了，只要我们自己保证不会做出格的行为，比如往Cat集合中加入Dog等等。</p>
<p>万能的java当然有办法，使用这种声明方式：</p>
<div class="highlight"><pre><span class="k">public</span> <span class="o">&lt;</span><span class="nb">T</span> <span class="nx">extends</span> <span class="nx">Animal</span><span class="o">&gt;</span> <span class="bp">void</span> <span class="nx">takeThing</span><span class="p">(</span><span class="nx">ArrayList</span><span class="o">&lt;</span><span class="nb">T</span><span class="o">&gt;</span> <span class="nb">list</span><span class="p">)</span>
</pre></div>


<p>当你这样声明函数时，编译器会阻止任何可能破坏引用参数所指集合的行为。也就是，你可以调用list中任何元素的方法，但是不能加入元素。</p>
<p>也就是说你可以操作集合元素，但是不能增加集合元素。如此才能保障执行期间的安全性。编译器会阻止执行期的恐怖活动。</p>
<p>所以下面的程序是可行的：</p>
<div class="highlight"><pre><span class="k">for</span> <span class="p">(</span><span class="n">Animal</span> <span class="n">a</span> <span class="o">:</span><span class="n">animals</span><span class="p">){</span><span class="n">a</span><span class="p">.</span><span class="n">eat</span><span class="p">();}</span>
</pre></div>


<p>但这个就过不了编译：</p>
<div class="highlight"><pre><span class="n">animals</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">new</span> <span class="n">Cat</span><span class="p">());</span>
</pre></div>


<h1>集合</h1>
<p>常用的集合有ArrayList,TreeSet,HashMap,HashSet.</p>
<h2>ArrayList</h2>
<p>最常用的集合，每次插入都在后面追加元素。</p>
<h2>TreeSet</h2>
<p>以有序状态保持并可防止重复。当你需要set集合或元素按照一定的顺序排列时，它会很好用。当然，这需要付出一定的成本，每当插入新项目时，它必须要花时间找到适当的位置，而ArrayList只要把项目放在最后就行。</p>
<p>TreeSet的元素必须是Comparable的，你必须指出对象应该如何排序。我们已经在上面讲过，方法有两种，分别是：</p>
<ul>
<li>实现Comparable类。</li>
<li>使用重载，取用Comparator参数的构造函数来创建TreeSet,就像sort()的使用一样。</li>
</ul>
<div class="highlight"><pre><span class="nb">class</span> <span class="nx">ArtistCompare</span> <span class="nx">implements</span> <span class="nx">Comparator</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span><span class="p">{</span>
<span class="k">public</span> <span class="nf">int</span> <span class="nb">compare</span><span class="p">(</span><span class="nx">Song</span> <span class="nx">one</span><span class="p">,</span><span class="nx">Song</span> <span class="nx">two</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">one.getAtist</span><span class="p">()</span><span class="bp">.</span><span class="nx">compareTo</span><span class="p">(</span><span class="nx">two.getArtist</span><span class="p">());</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="nx">ArtistCompare</span> <span class="n">artCompare</span><span class="o">=</span><span class="nb">new</span> <span class="nx">ArtistCompare</span><span class="p">();</span>
<span class="nx">TreeSet</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span> <span class="n">tree</span><span class="o">=</span><span class="nb">new</span> <span class="nx">TreeSet</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">artCompare</span><span class="p">);</span>
</pre></div>


<h2>HashMap</h2>
<p>针对经常插入或删除中间元素所设计的高效率集合。</p>
<p>使用方法：</p>
<div class="highlight"><pre><span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">scores</span><span class="o">=</span><span class="n">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">scores</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;Kathy&quot;</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>
<span class="n">scores</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;Jim&quot;</span><span class="p">,</span><span class="mi">22</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">scores</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Jim&quot;</span><span class="p">));</span>
</pre></div>


<p>HashSet的遍历方法：</p>
<div class="highlight"><pre><span class="n">Iterator</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">scores</span><span class="p">.</span><span class="n">entrySet</span><span class="p">().</span><span class="n">iterator</span><span class="p">();</span>    
<span class="k">while</span> <span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">hasNext</span><span class="p">())</span> <span class="p">{</span> 
            <span class="n">Map</span><span class="p">.</span><span class="n">Entry</span> <span class="n">entry</span> <span class="o">=</span> <span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="n">Entry</span><span class="p">)</span> <span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">();</span> 
            <span class="n">Object</span> <span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="p">.</span><span class="n">getKey</span><span class="p">();</span> 
            <span class="n">Object</span> <span class="n">val</span> <span class="o">=</span> <span class="n">entry</span><span class="p">.</span><span class="n">getValue</span><span class="p">();</span> 
            <span class="n">String</span> <span class="n">relkey</span><span class="o">=</span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">key</span><span class="p">;</span>
            <span class="n">Integer</span> <span class="n">relval</span><span class="o">=</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="n">val</span><span class="p">;</span>
            <span class="n">doprocessing</span><span class="p">();</span>
</pre></div>


<h2>HashSet</h2>
<p>防止重复的集合，可快速的寻找相符的元素。</p>
<p>这里有个问题，对象要怎样才算相等？是引用到完全相同的对象，还是可以使不同的对象，但是我们所关心的值相等。于是，引出一个关键问题：引用相等性和对象相等性。</p>
<ul>
<li>
<p>引用相等性
    堆上同一对象的不同引用，如果对这两个引用调用hashCode(),结果相同。如果没有被覆盖的话，hashCode()默认的行为会返回每个对象特定的序号，这个序号一般跟对象的内存位置有关，因此是唯一的。</p>
<p>如果想要知道两个引用是否相等，可以使用==来比较变量上的字节组合，如果引用到相同的对象，字节组合也会一样。</p>
</li>
<li>
<p>对象相等性
    堆上的两个不同对象在意义上是相等的，如果你想把两个不同的对象视为相等，就必须override hashCode()和equals()函数。</p>
</li>
</ul>
<h3>hashCode()</h3>
<p>HashSet使用hashcode来达到存取速度较快的存储方法，如果你尝试用对象来寻找ArrayList中的相同对象，（不用索引来找），ArrayList会从头开始找起，但HashSet不是，它是根据hashcode来找的，不需要从头找起。</p>
<p>重点在于hashcode相同并不一定保证对象时相等的，学过数据结构的同学肯定知道，hashCode()使用的杂凑算法很可能将多个对象传回相同的杂凑值，越糟糕的杂凑算法越容易碰撞，而且也跟数据值域的分布特性有关，因此如果两个对象的hashcode相同，并不能说它俩就相等，此时还需要使用equals()函数来进一步确认是否相等。你可以这样认为，hashcode用来缩小寻找成本，但是最后还需要equals()来确定是否真的找到了相同的对象。</p>
<p>hashCode()的默认行为时对在heap上的对象产生独特的值，如果你没有override过，则该class的两个对象永远不可能被认为是相同的。</p>
<div class="highlight"><pre><span class="nb">class</span> <span class="nx">Song</span> <span class="nx">implements</span> <span class="nx">Comparable</span><span class="o">&lt;</span><span class="nx">Song</span><span class="o">&gt;</span><span class="p">{</span>
<span class="kt">String</span> <span class="nb">title</span><span class="p">;</span>
<span class="kt">String</span> <span class="nx">artist</span><span class="p">;</span>

<span class="k">public</span> <span class="nf">boolean</span> <span class="k">equals</span><span class="p">(</span><span class="nb">Object</span> <span class="nx">aSong</span> <span class="p">){</span>
<span class="nx">Song</span> <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="nx">Song</span><span class="p">)</span> <span class="nx">aSong</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">getTitle.equals</span><span class="p">(</span><span class="nx">s.getTitle</span><span class="p">());</span> <span class="c1">//String覆盖过equals(),我们可以调用。</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">int</span> <span class="nx">hashCode</span><span class="p">(){</span>
<span class="k">return</span> <span class="nx">title.hsahCode</span><span class="p">();</span> <span class="c1">//String覆盖过hashCode(),我们直接调用就可以了。</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">int</span> <span class="nx">compareTo</span><span class="p">(</span><span class="nx">Song</span> <span class="nb">s</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">title.compareTo</span><span class="p">(</span><span class="nx">s.getTitle</span><span class="p">());</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">getTitle</span><span class="p">(){</span>
<span class="k">return</span> <span class="nb">title</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="nf">getAtirst</span><span class="p">(){</span>
<span class="k">return</span> <span class="nx">artist</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3>euqals()</h3>
<p>equals()的默认行为是执行==的比较，也就是说会去测试两个引用是否堆上heap上同一个对象，如果eqauls没有被覆盖过，两个对象永远都不会被视为相同的，因为不同的对象有不同的字节组合。</p>
<h3>toString()</h3>
<p>toString()是定义在Object类里的，所以每个java类都会继承到，且因为对象被System.out.println(anObject)列出来时会调用toString(),所以当你想用被System.out.println输出你自定义的对象时，你需要重定义toString().</p>
                </div><!-- /.entry-content -->
                <div class="comments">
                <h2>Comments !</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                           var disqus_identifier = "JAVA集合与泛型.html";
                           (function() {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript'; dsq.async = true;
                                dsq.src = 'http://buptlixin.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] ||
                                 document.getElementsByTagName('body')[0]).appendChild(dsq);
                          })();
                        </script>
                </div>
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="http://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="http://python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="http://jinja.pocoo.org/"><i class="icon-external-link"></i>Jinja2</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="http://www.v2ex.com/member/buptlee"><i class="icon-V2EX-sign icon-large"></i>V2EX</a></li>
    <li><a href="http://douban.com/people/77726008"><i class="icon-豆瓣-sign icon-large"></i>豆瓣</a></li>
    <li><a href="http://github.com/Xiaoxin2009"><i class="icon-Github-sign icon-large"></i>Github</a></li>
    <li><a href="http://stackoverflow.com/users/3373388/bupt-xiaoxin"><i class="icon-Stackoverflow-sign icon-large"></i>Stackoverflow</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/fen-bu-shi.html">
    <i class="icon-folder-open icon-large"></i>分布式
</a>
</li>
<li>
<a href="/category/java.html">
    <i class="icon-folder-open icon-large"></i>JAVA
</a>
</li>
<li>
<a href="/category/machine-learning.html">
    <i class="icon-folder-open icon-large"></i>Machine Learning
</a>
</li>
<li>
<a href="/category/perl.html">
    <i class="icon-folder-open icon-large"></i>Perl
</a>
</li>
<li>
<a href="/category/python.html">
    <i class="icon-folder-open icon-large"></i>Python
</a>
</li>
<li>
<a href="/category/scala.html">
    <i class="icon-folder-open icon-large"></i>Scala
</a>
</li>
<li>
<a href="/category/shu-ju-ku.html">
    <i class="icon-folder-open icon-large"></i>数据库
</a>
</li>
<li>
<a href="/category/technology.html">
    <i class="icon-folder-open icon-large"></i>Technology
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-3">
    <a href="/tag/storm.html">
        <i class="icon-tag icon-large"></i>Storm
    </a>
</li>
<li class="tag-3">
    <a href="/tag/zheng-ze-biao-da-shi.html">
        <i class="icon-tag icon-large"></i>正则表达式
    </a>
</li>
<li class="tag-4">
    <a href="/tag/machine-learning.html">
        <i class="icon-tag icon-large"></i>Machine Learning
    </a>
</li>
<li class="tag-4">
    <a href="/tag/hadoop.html">
        <i class="icon-tag icon-large"></i>Hadoop
    </a>
</li>
<li class="tag-1">
    <a href="/tag/perl.html">
        <i class="icon-tag icon-large"></i>Perl
    </a>
</li>
<li class="tag-1">
    <a href="/tag/scala.html">
        <i class="icon-tag icon-large"></i>scala
    </a>
</li>
<li class="tag-4">
    <a href="/tag/functional-programming.html">
        <i class="icon-tag icon-large"></i>functional programming
    </a>
</li>
<li class="tag-4">
    <a href="/tag/svm.html">
        <i class="icon-tag icon-large"></i>SVM
    </a>
</li>
<li class="tag-4">
    <a href="/tag/mongodb.html">
        <i class="icon-tag icon-large"></i>MongoDB
    </a>
</li>
<li class="tag-4">
    <a href="/tag/hash.html">
        <i class="icon-tag icon-large"></i>Hash
    </a>
</li>
<li class="tag-3">
    <a href="/tag/sql.html">
        <i class="icon-tag icon-large"></i>SQL
    </a>
</li>
<li class="tag-4">
    <a href="/tag/github.html">
        <i class="icon-tag icon-large"></i>Github
    </a>
</li>
<li class="tag-4">
    <a href="/tag/hdfs.html">
        <i class="icon-tag icon-large"></i>HDFS
    </a>
</li>
<li class="tag-4">
    <a href="/tag/python.html">
        <i class="icon-tag icon-large"></i>Python
    </a>
</li>
<li class="tag-4">
    <a href="/tag/nosql.html">
        <i class="icon-tag icon-large"></i>NoSQL
    </a>
</li>
<li class="tag-4">
    <a href="/tag/functional-programing.html">
        <i class="icon-tag icon-large"></i>functional programing
    </a>
</li>
<li class="tag-1">
    <a href="/tag/java.html">
        <i class="icon-tag icon-large"></i>java
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is from <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
	var pageTracker = _gat._getTracker("UA-50849437-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<script type="text/javascript">
    var disqus_shortname = 'buptlixin';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>